(this.webpackJsonpart_gallery=this.webpackJsonpart_gallery||[]).push([[0],{22:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(16),n=a.n(r),i=(a(22),a(5)),s=a(1),l=function(){return Object(s.jsxs)("div",{className:"title",children:[Object(s.jsx)("h1",{children:"Aaryan Singh Chauhan"}),Object(s.jsx)("h2",{children:"My Ideation Gallery"}),Object(s.jsx)("p",{children:"Arts that inspire"})]})},o=a(11),d=a.n(o),u=a(17),j=a(7);a(30),a(25);j.initializeApp({apiKey:"AIzaSyC6hqGOJceQBSZoDvGhpc00Hy7oAHMVTJ0",authDomain:"artgallery-bb197.firebaseapp.com",projectId:"artgallery-bb197",storageBucket:"artgallery-bb197.appspot.com",messagingSenderId:"584316105146",appId:"1:584316105146:web:8dc3c05f021551262ced83"});var b=j.storage(),p=j.firestore(),f=j.firestore.FieldValue.serverTimestamp,m=function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(null),l=Object(i.a)(s,2),o=l[0],j=l[1],m=Object(c.useState)(null),g=Object(i.a)(m,2),O=g[0],h=g[1];return Object(c.useEffect)((function(){var t=b.ref(e.name),a=p.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){j(e)}),Object(u.a)(d.a.mark((function e(){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,r=f(),a.add({url:c,createdAt:r}),h(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:O,error:o}},g=a(32);var O=function(e){var t=e.file,a=e.setFile,r=m(t),n=r.url,i=r.progress;return Object(c.useEffect)((function(){n&&a(null)}),[n,a]),Object(s.jsx)(g.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})};var h=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(null),l=Object(i.a)(n,2),o=l[0],d=l[1],u=["image/png","image/jpeg"];return Object(s.jsxs)("form",{children:[Object(s.jsxs)("label",{htmlFor:"image",children:[Object(s.jsx)("input",{type:"file",name:"image",id:"image",style:{display:"none"},onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(r(t),d("")):(r(null),d(".png or .jpeg files only"))}}),Object(s.jsx)("img",{src:"https://th.bing.com/th/id/R.94cfabdab12548ad6312bfe862995ffa?rik=bF1SA8mBRy0VJA&riu=http%3a%2f%2fcdn46.picsart.com%2f178892703000202.gif&ehk=kEWT%2fNULIrgxGOBl%2fCrDW6Jb8weNp7n%2bFAgbNpnlUSA%3d&risl=&pid=ImgRaw&r=0",id:"addFileGif",alt:"chibi "}),Object(s.jsx)("h3",{children:"\ud83c\udfa8 Add  \ud83c\udfa8 \ud83c\udfa8 "})]}),Object(s.jsxs)("div",{className:"output",children:[o&&Object(s.jsx)("div",{className:"error",children:o}),a&&Object(s.jsx)("div",{children:a.name}),a&&Object(s.jsx)(O,{file:a,setFile:r})]})]})},v=a(12),y=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(v.a)(Object(v.a)({},e.data()),{},{id:e.id}))})),n(t)}));return function(){return t()}}),[e]),{docs:r}};var x=function(e){var t=e.setSelectedImg,a=y("images").docs;return Object(s.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(s.jsx)(g.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:Object(s.jsx)(g.a.img,{src:e.url,alt:"uploaded artwork",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},S=function(e){var t=e.selectedImg,a=e.setSelectedImg;return Object(s.jsx)(g.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1},children:Object(s.jsx)(g.a.img,{src:t,alt:"endlarged view",initial:{y:"-100vh"},animate:{y:0}})})},w=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(l,{}),Object(s.jsx)(h,{}),Object(s.jsx)(x,{setSelectedImg:r}),a&&Object(s.jsx)(S,{selectedImg:a,setSelectedImg:r})]})};n.a.render(Object(s.jsx)(w,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.8c694898.chunk.js.map